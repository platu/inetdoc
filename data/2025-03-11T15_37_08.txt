TITLE: De l'importance de l'idempotence dans l'automatisation DevOps
AUTHOR: Philippe Latu
DATE: mar. 11 mars 2025 15:37:08 CET
DESC:Édition 2025 des labs Ansible sur l'automatisation des systèmes virtuels Cisco ou Linux en mode IaaS
FORMAT: raw
-----
BODY:
<p>Parmi les principes DevOps, la recherche de l'idempotence, qui consiste à
s'assurer que les traitements automatisés n'ont pas d'effets secondaires
indésirables et peuvent être répétés sans altérer le résultat final est un
objectif vraiment très intéressant.</p>

<p>Après plusieurs sessions de formation, il apparaît toutefois que cet
objectif a un coût en termes de développement. En effet, créer un Playbook
Ansible aux traitements idempotents nécessite souvent d'augmenter
significativement la quantité de code afin de garantir que chaque étape du
processus soit exécutée de manière prévisible et reproductible. Pour les
étudiants qui débutent dans l'automatisation, cela ne facilite pas
l'apprentissage.</p>

<p>Voici les liens vers deux supports de travaux pratiques qui illustrent la
hauteur de la marche à franchir entre placer une ou deux tâches dans un
Playbook Ansible et garantir un traitement reproductible conforme avec l'état
attendu de l'infrastructure cible.</p>

<p>Le lab « <a href="https://md.inetdoc.net/s/nt636Z4Ct">Use Ansible to Back Up
and Configure a c8000v Router</a> » propose une introduction à la création de
Playbooks Ansible.</p>

<a href="https://md.inetdoc.net/s/nt636Z4Ct">
  <img alt="Topologie Ansible et routeur virtuel c8000v"
    src="https://md.inetdoc.net/uploads/e5e25ff9-701b-4407-9ba3-e3765c6436f2.png"
    width="25%" />
</a>
<br />

<p>Le lab « <a href="https://md.inetdoc.net/s/wNFfdfcSw">Using Ansible to
automate the installation of web services on Incus containers</a> » utilise à
nouveau Ansible pour automatiser la gestion de conteneurs à partir d'un
inventaire dynamique. L'installation et la configuration de services web
servent ensuite de prétexte pour manipuler les fichiers de configuration et
valider le fonctionnement de ces services.</p>

<a href="https://md.inetdoc.net/s/wNFfdfcSw">
  <img alt="Topologie Ansible et serveur de conteneurs Incus"
    src="https://md.inetdoc.net/uploads/7559f148-6474-4453-92d2-86016e7081b6.png"
    width="25%" />
</a>
<br />

<p>Les points clés sont :</p>
<ol>
<li>
<strong>L'idempotence et le développement</strong><br />
Les traitements montrent l'importance de l'idempotence dans
l'automatisation, tout en illustrant les conséquences sur la complexité du
code.
</li>
<li>
<strong>Ansible et l'automatisation</strong><br />
Ansible s'est imposé comme un outil de référence en matière d'automatisation et
ses modules occupent une place essentielle.
</li>
<li>
<strong>Sensibilisation aux concepts DevOps</strong><br />
L'objectif principal est de sensibiliser les étudiants aux concepts clés de
l'automatisation DevOps, notamment la déclaration précise de l'état attendu
d'une infrastructure IaaS.
</li>
</ol>
END-----
